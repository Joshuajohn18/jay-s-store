{% extends 'products/base.html' %}
{% load static %}

{% block content %}
<style>
  .img-card-200 {
    width: 100%;
    max-height: 200px;
    object-fit: cover;
  }

  .card:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: 0.3s;
  }

  .product-list {
    margin-top: 20px;
  }
</style>

<div class="p-3">
  <div class="container">
    <!-- Title Section -->
    <div class="row mt-3">
      <div class="col mx-auto mb-3 text-center bg-dark text-white py-3 rounded">
        <h2>List of Products</h2>
        <hr class="border-light" />
      </div>
    </div>

    <!-- Search Section -->
    <div class="row mb-4">
      <div class="col text-center">
        <a href="{% url 'home' %}" class="text-white">Go back to home page</a>
        <form method="GET" class="mt-3">
          <div class="row justify-content-center">
            <div class="col-md-4">
              <div class="input-group">
                <span class="input-group-text">Search</span>
                <input type="text" class="form-control" name="search">
              </div>
            </div>
            <div class="col-auto">
              <button class="btn bg-dark text-white" type="submit">Search</button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Product List Section -->
    <div class="row product-list">
      {% for product in template_data.products %}
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="card h-100 align-items-center">
            <img src="{{ product.image.url }}" class="card-img-top rounded img-card-200" alt="{{ product.name }}">
            <div class="card-body text-center">
              <h3 class="h6">{{ product.name }}</h3>
              <p class="price">â‚¦{{ product.price }}</p>
              <a href="{% url 'show_product' product.id %}" class="btn btn-sm btn-outline-dark mt-2">View Details</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
